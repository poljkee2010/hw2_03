sudo: true
language: cpp
compiler: gcc

addons:
  apt:
    sources:
      - george-edison55-precise-backports
    packages:
      - cmake
      - cmake-data
      
script:
- export EXPLORER_LOG_PATH="log.txt"
- cmake -H. -B_build -DCMAKE_INSTALL_PREFIX=_install -DBUILD_TESTS=ON
- cmake --build _build
- cd _build
- ./explorer CMakeCache.txt
- cd ..
- cmake --build _build --target install
- cmake --build _build --target test
- cd _build
- cpack -G "TGZ"
- cd ..
- cmake -H. -B_build -DCPACK_GENERATOR="TGZ"
â€” cmake --build _build --target package
- mv _build/*.tar.gz artifacts
